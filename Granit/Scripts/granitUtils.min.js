var granit=function(gt){var self=this;gt.Threshold=.001;var output=function(message,errorObject,type,alert){message||(message=""),(!type||"Error"!==type&&"Warning"!==type)&&(type="Error");var result=("Error"===type?"ERROR":"WARNING")+(errorObject=errorObject?" -- "+errorObject:"")+": "+message;if(!0===alert&&window.alert(result),"Error"===type)throw result;console.log(result)},NumberUnit=function(value,unit){var self=this;self.Value,self.Unit,self.getValue=function(){return self.Unit?self.Value+self.Unit:self.Value},self.setValue=function(value,unit){self.Value=value||0,self.Unit=unit||""},self.setValue(value,unit)},Size=function(number){var self=this;self.Number,self.Offset,self.Precise,self.Pixel,self.getValue=function(getPixel){return getPixel?self.Pixel+"px":self.Offset?"calc("+self.Number.getValue()+"  + "+self.Offset+")":self.Number.getValue()},self.setValue=function(number,offset,precise){number&&"auto"!==number||(number=new NumberUnit(1)),self.Number=number,self.Offset=offset,self.Precise=precise||number.getValue(),self.autoSized=1===number.getValue()},self.setValue(number),self.TargetUnit=self.Number.Unit},isBooleanType=function(value){return!0===value||!1===value},extractFloatUnit=function(size,numberSet,unitFormat,defaultUnit,errorObject,math){(!numberSet||"Q"!==numberSet&&"Q+"!==numberSet&&"Q-"!==numberSet)&&(numberSet="Q"),"string"!==jQuery.type(size)&&"number"!==jQuery.type(size)&&output("value ("+size+") is not a number or a string",errorObject),math=math||function(x){return x};var unitRegex=new RegExp("^"+unitFormat.source+"$");defaultUnit&&!defaultUnit.match(unitRegex)&&output("the provided default unit ("+defaultUnit+") is not a valid unit according to the given unit format "+unitFormat,errorObject);var floatRegex,regex=new RegExp("^("+/[+-]?\d+(\.\d+)?/.source+")("+unitFormat.source+")?$"),value,unit;if("string"===jQuery.type(size)){var match=size.match(regex);match||output("value ("+size+") format is invalid -- format ("+regex+") expected (float number with optional measure)",errorObject),size=match[1],unit=match[3]}return value=parseFloat(size),"Q"!==numberSet&&(value<0&&"Q+"===numberSet&&output("value ("+value+") < 0.0 -- positive value expected",errorObject),value>0&&"Q-"===numberSet&&output("value ("+value+") > 0.0 -- negative value expected",errorObject)),new NumberUnit(math(value),unit||defaultUnit)},arrayOperations={compareArrayToArray:function(arr,haystack,all){return(!all||arr.length===haystack.length)&&arr.every((function(v){return haystack.indexOf(v)>=0}))},compareObjectToArray:function(object,haystack,all){if(object&&haystack){var arr=Object.getOwnPropertyNames(object);return(!all||arr.length===haystack.length)&&arr.every((function(v){return!object.hasOwnProperty(v)||haystack.indexOf(v)>=0}))}},uniqueArray:function(list){var result=[];return $.each(list,(function(i,e){-1===$.inArray(e,result)&&result.push(e)})),result},merge_array:function(array1,array2){for(var result_array=[],arr=array1.concat(array2),len=arr.length,assoc={};len--;){var item=arr[len];assoc[item]||(result_array.unshift(item),assoc[item]=!0)}return result_array}},prefixSizeName=function(sizeName,prefix,camelCase){return camelCase?prefix+sizeName.charAt(0).toUpperCase()+sizeName.slice(1):prefix+"-"+sizeName},PixelConverter=function(targetParent){var testElement=document.createElement("div"),_parentSize;testElement.style.cssText="overflow: hidden; visibility: hidden; position: absolute; top: 0; left: 0; border: 0; margin: 0; padding: 0;",targetParent.appendChild(testElement),this.destroy=function(){targetParent.removeChild(testElement)};var parentSize=function(){return _parentSize||(_parentSize=new parentSizeClass),_parentSize},_viewportSize,viewportSize=function(){return _viewportSize||(_viewportSize=new viewportSizeClass),_viewportSize},parentSizeClass=function(){var _width,_height;this.width=function(){return _width||(_width=$(targetParent).width()),_width},this.height=function(){return _height||(_height=$(targetParent).height()),_height}},viewportSizeClass=function(){var _width,_height;this.width=function(){return _width||(_width=$(window).width()),_width},this.height=function(){return _height||(_height=$(window).height()),_height}},self=this;this.convertToPixel=function(target,cssPropertyName,destroy,value){value||(value=getComputedStyle(target,null).getPropertyValue(cssPropertyName));var result=parseFloat(value);if(result||0===result){if("px"!==value.slice(-2)){cssPropertyName.indexOf("-")>0&&(cssPropertyName=cssPropertyName.slice(4));var offsetSizeName=prefixSizeName(cssPropertyName,"offset",!0);testElement.style[cssPropertyName]=value,result=testElement[offsetSizeName]}}else result=value;return destroy&&self.destroy(),result},this.convertFromPixel=function(size,cssPropertyName,destroy){var pixelBase=1,precision=1;if("px"!==size.TargetUnit){var total;if(["%","vw","vh","vmin","vmax"].indexOf(size.TargetUnit)>-1)precision=2,"%"===size.TargetUnit?total="width"===cssPropertyName?parentSize().width():parentSize().height():"vw"===size.TargetUnit?total=viewportSize().width():"vh"===size.TargetUnit?total=viewportSize().height():"vmin"===size.TargetUnit?total=Math.min(viewportSize().width(),viewportSize().height()):"vmax"===size.TargetUnit&&(total=Math.max(viewportSize().width(),viewportSize().height())),pixelBase=.01*total;else if(["em","rem","ex","ch"].indexOf(size.TargetUnit)>-1){if(precision=2,["em","rem"].indexOf(size.TargetUnit)>-1){testElement.style.fontSize="1.0"+size.TargetUnit;var test=pixelBase=parseFloat(getComputedStyle(testElement,null).getPropertyValue("font-size"))}else if(["ex","ch"].indexOf(size.TargetUnit)>-1){testElement.style.minHeight="1.0"+size.TargetUnit;var test=pixelBase=parseFloat(getComputedStyle(testElement,null).getPropertyValue("min-height"))}}else["in","pt","pc","cm","mm"].indexOf(size.TargetUnit)>-1&&(testElement.style.width="1in",precision=2,pixelBase=parseFloat(getComputedStyle(testElement,null).getPropertyValue("width")),conversionFactor=1,"pt"===size.TargetUnit?(conversionFactor=72,precision=0):"mm"===size.TargetUnit?(conversionFactor=25.4,precision=1):"pc"===size.TargetUnit?(conversionFactor=6,precision=2):"cm"===size.TargetUnit&&(conversionFactor=2.54,precision=2),pixelBase/=conversionFactor);var precise=size.Pixel/pixelBase+size.TargetUnit,precisionFactor=Math.pow(10,precision),rest=size.Pixel*precisionFactor%pixelBase,floor=Math.floor(size.Pixel*precisionFactor/pixelBase),offset;rest>pixelBase-rest&&(floor+=1,rest=-1*(pixelBase-rest)),floor/=precisionFactor,rest/=precisionFactor,size.Number.setValue(floor,size.TargetUnit),Math.abs(rest)>=gt.Threshold&&(offset=rest+"px"),size.setValue(size.Number,offset,precise),destroy&&self.destroy()}}},DeviceHelper=function(_navigator){this.navigator=_navigator||navigator,this.isIE=function(){if(!this.navigator.userAgent)return!1;var IE10=Boolean(this.navigator.userAgent.match(/(MSIE)/i)),IE11=Boolean(this.navigator.userAgent.match(/(Trident)/i));return IE10||IE11},this.isEdge=function(){return!!this.navigator.userAgent&&this.navigator.userAgent.toLowerCase().indexOf("edge")>-1},this.isMicrosoftBrowser=function(){return this.isEdge()||this.isIE()},this.isFirefox=function(){return!!this.navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1},this.isChrome=function(){return!!this.navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1}};return gt.extractFloatUnit=extractFloatUnit,gt.output=output,gt.arrayOperations=arrayOperations,gt.NumberUnit=NumberUnit,gt.Size=Size,gt.prefixSizeName=prefixSizeName,gt.DeviceHelper=DeviceHelper,gt.PixelConverter=PixelConverter,gt.IsBooleanType=isBooleanType,gt}(granit||{});